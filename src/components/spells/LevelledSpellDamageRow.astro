---
import LevelledSpellLevelSelector from "./LevelledSpellLevelSelector.tsx";
import LevelledSpellDamageCell from "./LevelledSpellDamageCell.tsx";
import InfoTooltip from "@/components/common/InfoTooltip.tsx";
import type { DamageLevel } from "@/js/character/DamageTypes";
import type { ReferenceRendered } from "@/js/utils/render-5etools/ReferenceTypes";

interface Props {
  name: string;
  damageOptions: DamageLevel[];
  reference?: ReferenceRendered;
}

const { name, damageOptions, reference } = Astro.props;
---

<tr>
  <td>
    {
      reference ? (
        <InfoTooltip client:load reference={reference}>
          {name}
        </InfoTooltip>
      ) : (
        name
      )
    }
    <LevelledSpellLevelSelector client:load spellName={name} options={damageOptions} />
  </td>
  <td class="checkCell mono">
    <LevelledSpellDamageCell client:load spellName={name} initialDamageRoll={damageOptions[0].damage} />
  </td>
</tr>
